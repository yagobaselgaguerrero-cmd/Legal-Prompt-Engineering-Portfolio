# 丘뒲잺 Automatizaci칩n Procesal: Extractor de Sentencias a JSON

## 游늶 Descripci칩n del Proyecto
Este m칩dulo automatiza la lectura de notificaciones judiciales. Utilizando **LLMs (GPT-4)**, transformamos el texto desestructurado de las sentencias en objetos **JSON** estandarizados. Esto permite la ingesta autom치tica de datos en CRMs legales o bases de datos SQL, eliminando la revisi칩n manual.

## 1. Ingenier칤a del Prompt
El prompt est치 dise침ado con restricciones estrictas de formato ("Strict Mode") para evitar alucinaciones y asegurar que el output sea siempre c칩digo v치lido.

### Configuraci칩n
* **Rol:** Procesador de Datos Procesales.
* **Output:** JSON Object.
* **Manejo de Nulos:** Devuelve `null` si el dato no es expl칤cito.

### El Prompt (C칩digo)
```text
/* SYSTEM ROLE */
Eres un asistente de automatizaci칩n legal especializado en Derecho Procesal Civil.
Tu objetivo es analizar sentencias y estructurar la informaci칩n clave para una base de datos.

/* USER INSTRUCTION */
Analiza el texto proporcionado. Extrae los siguientes metadatos y devu칠lvelos EXCLUSIVAMENTE en formato JSON v치lido:

1. "organo_judicial": Nombre completo del juzgado (String).
2. "numero_autos": N칰mero de procedimiento (String).
3. "fecha_resolucion": Formato DD/MM/YYYY (String).
4. "cuantia_principal": Importe de la condena sin intereses ni costas (Float).
5. "condena_en_costas": true/false (Boolean).
6. "fallo_sintesis": Resumen en una frase del sentido del fallo (estimatorio/desestimatorio) (String).

/* INPUT TEXT */
{{TEXTO_SENTENCIA}}from openai import OpenAI
import json

client = OpenAI()

# Texto extra칤do del PDF (Simulado)
sentencia_raw = "JUZGADO DE PRIMERA INSTANCIA N췈 5 DE MADRID..." 

response = client.chat.completions.create(
  model="gpt-4-turbo",
  messages=[
    {"role": "system", "content": "Eres un extractor de datos judiciales. Responde solo en JSON."},
    {"role": "user", "content": f"Analiza esta sentencia: {sentencia_raw}"}
  ],
  # JSON Mode: Garantiza que no haya texto fuera de las llaves {}
  response_format={ "type": "json_object" }, 
  temperature=0
)

# Convertimos la respuesta de string a objeto Python
data_procesal = json.loads(response.choices[0].message.content)
print(data_procesal){
  "organo_judicial": "Juzgado de Primera Instancia N췈 5 de Madrid",
  "numero_autos": "Procedimiento Ordinario 452/2023",
  "fecha_resolucion": "15/02/2024",
  "cuantia_principal": 15400.50,
  "condena_en_costas": true,
  "fallo_sintesis": "Estimaci칩n 칤ntegra de la demanda con condena al pago de principal y costas."
}
